PD9waHAKc2Vzc2lvbl9zdGFydCgpOwoKZGVmaW5lKCdTRVNTSU9OX0xJRkVUSU1FJywgMTgwMCk7CgpkZWZpbmUoJ0FETUlOX1VTRVInLCAnN2Y4NTA0YzFjNmViZWQzZmZlMjMyZWNlM2QyMmQwN2MnKTsKZGVmaW5lKCdBRE1JTl9QQVNTJywgJzk1NTJiMzQzNmJiMjVkYWE3OTc3ZDk3ZDgxODc4NzNkJyk7CgppZiAoaXNzZXQoJF9TRVNTSU9OWydhdXRoZW50aWNhdGVkJ10pICYmICh0aW1lKCkgLSAkX1NFU1NJT05bJ2F1dGhlbnRpY2F0ZWRfdGltZSddID4gU0VTU0lPTl9MSUZFVElNRSkpIHsKICAgIHNlc3Npb25fdW5zZXQoKTsKICAgIHNlc3Npb25fZGVzdHJveSgpOwogICAgaGVhZGVyKCJMb2NhdGlvbjogeyRfU0VSVkVSWydQSFBfU0VMRiddfSIpOwogICAgZXhpdDsKfQoKaWYgKCFpc3NldCgkX1NFU1NJT05bJ2F1dGhlbnRpY2F0ZWQnXSkpIHsKICAgIGlmICgkX1NFUlZFUlsnUkVRVUVTVF9NRVRIT0QnXSA9PT0gJ1BPU1QnICYmIGlzc2V0KCRfUE9TVFsndXNlcm5hbWUnXSkgJiYgaXNzZXQoJF9QT1NUWydwYXNzd29yZCddKSkgewogICAgICAgIGlmIChtZDUobWQ1KG1kNShtZDUobWQ1KCRfUE9TVFsndXNlcm5hbWUnXSkpKSkpID09PSBBRE1JTl9VU0VSICYmIG1kNShtZDUobWQ1KG1kNShtZDUoJF9QT1NUWydwYXNzd29yZCddKSkpKSkgPT09IEFETUlOX1BBU1MpIHsKICAgICAgICAgICAgJF9TRVNTSU9OWydhdXRoZW50aWNhdGVkJ10gPSB0cnVlOwogICAgICAgICAgICAkX1NFU1NJT05bJ2F1dGhlbnRpY2F0ZWRfdGltZSddID0gdGltZSgpOwogICAgICAgICAgICBoZWFkZXIoIkxvY2F0aW9uOiB7JF9TRVJWRVJbJ1BIUF9TRUxGJ119Iik7CiAgICAgICAgICAgIGV4aXQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJGVycm9yID0gImVycm9y77yBIjsKICAgICAgICB9CiAgICB9CiAgICBlY2hvICc8IURPQ1RZUEUgaHRtbD4KICAgIDxodG1sIGxhbmc9ImVuIj4KICAgIDxoZWFkPjxtZXRhIGNoYXJzZXQ9IlVURi04Ij48dGl0bGU+RklMRTwvdGl0bGU+PC9oZWFkPgogICAgPGJvZHk+CiAgICA8aDI+PC9oMj4KICAgIDxmb3JtIG1ldGhvZD0iUE9TVCI+CiAgICAgICAgVe+8mjxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ1c2VybmFtZSIgcmVxdWlyZWQ+PGJyPgogICAgICAgIFDvvJo8aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9InBhc3N3b3JkIiByZXF1aXJlZD48YnI+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiPkdPPC9idXR0b24+CiAgICA8L2Zvcm0+CiAgICA8cCBzdHlsZT0iY29sb3I6cmVkOyI+JyAuIChpc3NldCgkZXJyb3IpID8gJGVycm9yIDogJycpIC4gJzwvcD4KICAgIDwvYm9keT48L2h0bWw+JzsKICAgIGV4aXQ7Cn0KCiRyb290RGlyID0gJF9TRVJWRVJbJ0RPQ1VNRU5UX1JPT1QnXTsKJGRpciA9IGlzc2V0KCRfR0VUWydkaXInXSkgPyByZWFscGF0aCgkcm9vdERpciAuICcvJyAuICRfR0VUWydkaXInXSkgOiAkcm9vdERpcjsKCmlmICghJGRpciB8fCBzdHJwb3MoJGRpciwgJHJvb3REaXIpICE9PSAwKSB7CiAgICBkaWUoIklsbGVnYWwgYWNjZXNzIik7Cn0KCiRmaWxlcyA9IGFycmF5X2RpZmYoc2NhbmRpcigkZGlyKSwgYXJyYXkoJy4nLCAnLi4nKSk7CgppZiAoaXNzZXQoJF9QT1NUWydkZWxldGUnXSkgJiYgaXNzZXQoJF9QT1NUWydmaWxlJ10pKSB7CiAgICAkZmlsZSA9IHJlYWxwYXRoKCRkaXIgLiAnLycgLiAkX1BPU1RbJ2ZpbGUnXSk7CiAgICBpZiAoJGZpbGUgJiYgc3RycG9zKCRmaWxlLCAkcm9vdERpcikgPT09IDApIHsKICAgICAgICBpZiAoaXNfZGlyKCRmaWxlKSkgewogICAgICAgICAgICBpZiAoY291bnQoc2NhbmRpcigkZmlsZSkpID09PSAyKSB7CiAgICAgICAgICAgICAgICBybWRpcigkZmlsZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkZXJyb3IgPSAiRm9sZGVyIGlzIG5vdCBlbXB0eSEiOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdW5saW5rKCRmaWxlKTsKICAgICAgICB9CiAgICAgICAgaGVhZGVyKCJMb2NhdGlvbjogeyRfU0VSVkVSWydQSFBfU0VMRiddfT9kaXI9IiAuIHVybGVuY29kZShpc3NldCgkX0dFVFsnZGlyJ10pID8gJF9HRVRbJ2RpciddIDogJycpKTsKICAgICAgICBleGl0OwogICAgfQp9CgppZiAoaXNzZXQoJF9GSUxFU1snZmlsZSddKSkgewogICAgJHVwbG9hZFBhdGggPSAkZGlyIC4gJy8nIC4gYmFzZW5hbWUoJF9GSUxFU1snZmlsZSddWyduYW1lJ10pOwogICAgaWYgKHN0cnBvcygkdXBsb2FkUGF0aCwgJHJvb3REaXIpID09PSAwKSB7CiAgICAgICAgbW92ZV91cGxvYWRlZF9maWxlKCRfRklMRVNbJ2ZpbGUnXVsndG1wX25hbWUnXSwgJHVwbG9hZFBhdGgpOwogICAgfQogICAgaGVhZGVyKCJMb2NhdGlvbjogeyRfU0VSVkVSWydQSFBfU0VMRiddfT9kaXI9IiAuIHVybGVuY29kZShpc3NldCgkX0dFVFsnZGlyJ10pID8gJF9HRVRbJ2RpciddIDogJycpKTsKICAgIGV4aXQ7Cn0KCmlmIChpc3NldCgkX1BPU1RbJ2NobW9kJ10pICYmIGlzc2V0KCRfUE9TVFsnZmlsZSddKSAmJiBpc3NldCgkX1BPU1RbJ21vZGUnXSkpIHsKICAgICRmaWxlID0gcmVhbHBhdGgoJGRpciAuICcvJyAuICRfUE9TVFsnZmlsZSddKTsKICAgIGlmICgkZmlsZSAmJiBzdHJwb3MoJGZpbGUsICRyb290RGlyKSA9PT0gMCkgewogICAgICAgIGNobW9kKCRmaWxlLCBvY3RkZWMoJF9QT1NUWydtb2RlJ10pKTsKICAgICAgICBoZWFkZXIoIkxvY2F0aW9uOiB7JF9TRVJWRVJbJ1BIUF9TRUxGJ119P2Rpcj0iIC4gdXJsZW5jb2RlKGlzc2V0KCRfR0VUWydkaXInXSkgPyAkX0dFVFsnZGlyJ10gOiAnJykpOwogICAgICAgIGV4aXQ7CiAgICB9Cn0KCmlmIChpc3NldCgkX1BPU1RbJ3NhdmUnXSkgJiYgaXNzZXQoJF9QT1NUWydmaWxlJ10pICYmIGlzc2V0KCRfUE9TVFsnY29udGVudCddKSkgewogICAgJGZpbGUgPSByZWFscGF0aCgkZGlyIC4gJy8nIC4gJF9QT1NUWydmaWxlJ10pOwogICAgaWYgKCRmaWxlICYmIGZpbGVfZXhpc3RzKCRmaWxlKSAmJiBpc193cml0YWJsZSgkZmlsZSkgJiYgc3RycG9zKCRmaWxlLCAkcm9vdERpcikgPT09IDApIHsKICAgICAgICBmaWxlX3B1dF9jb250ZW50cygkZmlsZSwgJF9QT1NUWydjb250ZW50J10pOwogICAgICAgIGhlYWRlcigiTG9jYXRpb246IHskX1NFUlZFUlsnUEhQX1NFTEYnXX0/ZGlyPSIgLiB1cmxlbmNvZGUoaXNzZXQoJF9HRVRbJ2RpciddKSA/ICRfR0VUWydkaXInXSA6ICcnKSk7CiAgICAgICAgZXhpdDsKICAgIH0KfQoKaWYgKGlzc2V0KCRfUE9TVFsnY3JlYXRlX2ZpbGUnXSkgJiYgaXNzZXQoJF9QT1NUWydmaWxlX25hbWUnXSkpIHsKICAgICRmaWxlTmFtZSA9ICRfUE9TVFsnZmlsZV9uYW1lJ107CiAgICBpZiAocHJlZ19tYXRjaCgnL15bYS16QS1aMC05X1wtXC5dKyQvJywgJGZpbGVOYW1lKSkgewogICAgICAgICRmaWxlUGF0aCA9ICRkaXIgLiAnLycgLiAkZmlsZU5hbWU7CiAgICAgICAgaWYgKCFmaWxlX2V4aXN0cygkZmlsZVBhdGgpKSB7CiAgICAgICAgICAgIHRvdWNoKCRmaWxlUGF0aCk7CiAgICAgICAgICAgIGhlYWRlcigiTG9jYXRpb246IHskX1NFUlZFUlsnUEhQX1NFTEYnXX0/ZGlyPSIgLiB1cmxlbmNvZGUoaXNzZXQoJF9HRVRbJ2RpciddKSA/ICRfR0VUWydkaXInXSA6ICcnKSk7CiAgICAgICAgICAgIGV4aXQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJGVycm9yID0gIkZpbGUgYWxyZWFkeSBleGlzdHMhIjsKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgICRlcnJvciA9ICJJbnZhbGlkIGZpbGUgbmFtZSEiOwogICAgfQp9CgppZiAoaXNzZXQoJF9QT1NUWydjcmVhdGVfZm9sZGVyJ10pICYmIGlzc2V0KCRfUE9TVFsnZm9sZGVyX25hbWUnXSkpIHsKICAgICRmb2xkZXJOYW1lID0gJF9QT1NUWydmb2xkZXJfbmFtZSddOwogICAgaWYgKHByZWdfbWF0Y2goJy9eW2EtekEtWjAtOV9cLVwuXSskLycsICRmb2xkZXJOYW1lKSkgewogICAgICAgICRmb2xkZXJQYXRoID0gJGRpciAuICcvJyAuICRmb2xkZXJOYW1lOwogICAgICAgIGlmICghZmlsZV9leGlzdHMoJGZvbGRlclBhdGgpKSB7CiAgICAgICAgICAgIG1rZGlyKCRmb2xkZXJQYXRoLCAwNzU1KTsKICAgICAgICAgICAgaGVhZGVyKCJMb2NhdGlvbjogeyRfU0VSVkVSWydQSFBfU0VMRiddfT9kaXI9IiAuIHVybGVuY29kZShpc3NldCgkX0dFVFsnZGlyJ10pID8gJF9HRVRbJ2RpciddIDogJycpKTsKICAgICAgICAgICAgZXhpdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkZXJyb3IgPSAiRm9sZGVyIGFscmVhZHkgZXhpc3RzISI7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICAkZXJyb3IgPSAiSW52YWxpZCBmb2xkZXIgbmFtZSEiOwogICAgfQp9CgppZiAoaXNzZXQoJF9HRVRbJ2xvZ291dCddKSkgewogICAgc2Vzc2lvbl91bnNldCgpOwogICAgc2Vzc2lvbl9kZXN0cm95KCk7CiAgICBoZWFkZXIoIkxvY2F0aW9uOiB7JF9TRVJWRVJbJ1BIUF9TRUxGJ119Iik7CiAgICBleGl0Owp9Cgo/Pgo8IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iemgiPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgIDx0aXRsZT5GSUxFPC90aXRsZT4KICAgIDxzdHlsZT4KICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBwYWRkaW5nOiAyMHB4OyB9CiAgICAgICAgdGFibGUgeyB3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgbWFyZ2luLXRvcDogMjBweDsgfQogICAgICAgIHRoLCB0ZCB7IHBhZGRpbmc6IDEwcHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHRleHQtYWxpZ246IGxlZnQ7IH0KICAgICAgICB0aCB7IGJhY2tncm91bmQ6ICNmNGY0ZjQ7IH0KICAgICAgICAuYnRuIHsgcGFkZGluZzogNXB4IDEwcHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgY29sb3I6IHdoaXRlOyBib3JkZXItcmFkaXVzOiAzcHg7IGJvcmRlcjogbm9uZTsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAgICAgLmJ0bi1kYW5nZXIgeyBiYWNrZ3JvdW5kOiByZWQ7IH0KICAgICAgICAuYnRuLXByaW1hcnkgeyBiYWNrZ3JvdW5kOiBncmVlbjsgfQogICAgICAgIC5idG4tZWRpdCB7IGJhY2tncm91bmQ6IGJsdWU7IH0KICAgICAgICAuYnRuLXZpZXcgeyBiYWNrZ3JvdW5kOiBvcmFuZ2U7IH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CjxoMT5GSUxFPC9oMT4KPHA+PGEgaHJlZj0iP2Rpcj0iPlJldHVybiB0byByb290PC9hPiB8IDxhIGhyZWY9Ij9sb2dvdXQiIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+RXhpdDwvYT48L3A+CjxoMj5DdXJyZW50IGRpcmVjdG9yeTogPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKHN0cl9yZXBsYWNlKCRyb290RGlyLCAnJywgJGRpcikpOyA/PjwvaDI+Cgo8Zm9ybSBtZXRob2Q9IlBPU1QiIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiPgogICAgPGlucHV0IHR5cGU9ImZpbGUiIG5hbWU9ImZpbGUiIHJlcXVpcmVkPgogICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiPlVQTE9BRDwvYnV0dG9uPgo8L2Zvcm0+Cjxicj4KPGZvcm0gbWV0aG9kPSJQT1NUIj4KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJmaWxlX25hbWUiIHBsYWNlaG9sZGVyPSJGaWxlbmFtZSIgcmVxdWlyZWQ+CiAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgbmFtZT0iY3JlYXRlX2ZpbGUiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiPkNyZWF0ZSBmaWxlPC9idXR0b24+CjwvZm9ybT4KPGJyPgo8Zm9ybSBtZXRob2Q9IlBPU1QiPgogICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImZvbGRlcl9uYW1lIiBwbGFjZWhvbGRlcj0iRm9sZGVyIG5hbWUiIHJlcXVpcmVkPgogICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIG5hbWU9ImNyZWF0ZV9mb2xkZXIiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiPkNyZWF0ZSBmb2xkZXI8L2J1dHRvbj4KPC9mb3JtPgoKPHRhYmxlPgogICAgPHRoZWFkPgogICAgPHRyPgogICAgICAgIDx0aD5GaWxlbmFtZTwvdGg+CiAgICAgICAgPHRoPlNpemU8L3RoPgogICAgICAgIDx0aD5BdXRoPC90aD4KICAgICAgICA8dGg+TW9kaWZpY2F0aW9uIFRpbWU8L3RoPgogICAgICAgIDx0aD5Db250cm9sczwvdGg+CiAgICA8L3RyPgogICAgPC90aGVhZD4KICAgIDx0Ym9keT4KICAgIDw/cGhwIGZvcmVhY2ggKCRmaWxlcyBhcyAkZmlsZSk6CiAgICAgICAgJGZpbGVfcGF0aCA9IHJlYWxwYXRoKCRkaXIgLiAnLycgLiAkZmlsZSk7CiAgICAgICAgJHBlcm1pc3Npb25zID0gc3Vic3RyKHNwcmludGYoJyVvJywgZmlsZXBlcm1zKCRmaWxlX3BhdGgpKSwgLTQpOwogICAgICAgICRtb2RpZmljYXRpb25fdGltZSA9IGRhdGUoIlktbS1kIEg6aTpzIiwgZmlsZW10aW1lKCRmaWxlX3BhdGgpKTsKICAgICAgICA/PgogICAgICAgIDx0cj4KICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgPD9waHAgaWYgKGlzX2RpcigkZmlsZV9wYXRoKSk6ID8+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iP2Rpcj08P3BocCBlY2hvIHVybGVuY29kZShzdHJfcmVwbGFjZSgkcm9vdERpciAuICcvJywgJycsICRmaWxlX3BhdGgpKTsgPz4iPu2gve2zgiA8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJGZpbGUpOyA/PjwvYT4KICAgICAgICAgICAgICAgIDw/cGhwIGVsc2U6ID8+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRmaWxlKTsgPz4KICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQ+PD9waHAgZWNobyBpc19maWxlKCRmaWxlX3BhdGgpID8gZmlsZXNpemUoJGZpbGVfcGF0aCkgLiAnIEtCJyA6ICctJzsgPz48L3RkPgogICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICA8Zm9ybSBtZXRob2Q9IlBPU1QiIHN0eWxlPSJkaXNwbGF5OmlubGluZTsiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImZpbGUiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJGZpbGUpOyA/PiI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Im1vZGUiIHZhbHVlPSI8P3BocCBlY2hvICRwZXJtaXNzaW9uczsgPz4iIHNpemU9IjQiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBuYW1lPSJjaG1vZCIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+ZWRpdDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQ+PD9waHAgZWNobyAkbW9kaWZpY2F0aW9uX3RpbWU7ID8+PC90ZD4KICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgPD9waHAgaWYgKCFpc19kaXIoJGZpbGVfcGF0aCkpOiA/PgogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ij92aWV3PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKTsgPz4mZGlyPTw/cGhwIGVjaG8gdXJsZW5jb2RlKGlzc2V0KCRfR0VUWydkaXInXSkgPyAkX0dFVFsnZGlyJ10gOiAnJyk7ID8+IiBjbGFzcz0iYnRuIGJ0bi12aWV3Ij52aWV3PC9hPgogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ij9lZGl0PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKTsgPz4mZGlyPTw/cGhwIGVjaG8gdXJsZW5jb2RlKGlzc2V0KCRfR0VUWydkaXInXSkgPyAkX0dFVFsnZGlyJ10gOiAnJyk7ID8+IiBjbGFzcz0iYnRuIGJ0bi1lZGl0Ij5lZGl0PC9hPgogICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICAgICA8Zm9ybSBtZXRob2Q9IlBPU1QiIHN0eWxlPSJkaXNwbGF5OmlubGluZTsiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImZpbGUiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJGZpbGUpOyA/PiI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIG5hbWU9ImRlbGV0ZSIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJyZXR1cm4gY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBcJzw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkZmlsZSk7ID8+XCc/Jyk7Ij5kZWw8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgPC90ZD4KICAgICAgICA8L3RyPgogICAgPD9waHAgZW5kZm9yZWFjaDsgPz4KICAgIDwvdGJvZHk+CjwvdGFibGU+Cgo8P3BocCBpZiAoaXNzZXQoJF9HRVRbJ2VkaXQnXSkpOgogICAgJGVkaXRfZmlsZSA9IGJhc2VuYW1lKCRfR0VUWydlZGl0J10pOwogICAgJGVkaXRfZmlsZV9wYXRoID0gcmVhbHBhdGgoJGRpciAuICcvJyAuICRlZGl0X2ZpbGUpOwogICAgaWYgKCRlZGl0X2ZpbGVfcGF0aCAmJiBmaWxlX2V4aXN0cygkZWRpdF9maWxlX3BhdGgpICYmIGlzX3dyaXRhYmxlKCRlZGl0X2ZpbGVfcGF0aCkpOgogICAgICAgICRjb250ZW50ID0gZmlsZV9nZXRfY29udGVudHMoJGVkaXRfZmlsZV9wYXRoKTsKICAgICAgICA/PgogICAgICAgIDxoMj5lZGl0ZmlsZTogPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRlZGl0X2ZpbGUpOyA/PjwvaDI+CiAgICAgICAgPGZvcm0gbWV0aG9kPSJQT1NUIj4KICAgICAgICAgICAgPHRleHRhcmVhIG5hbWU9ImNvbnRlbnQiIHN0eWxlPSJ3aWR0aDoxMDAlOyBoZWlnaHQ6MzAwcHg7Ij48P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJGNvbnRlbnQpOyA/PjwvdGV4dGFyZWE+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImZpbGUiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJGVkaXRfZmlsZSk7ID8+Ij4KICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIG5hbWU9InNhdmUiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiPnNhdmU8L2J1dHRvbj4KICAgICAgICA8L2Zvcm0+CiAgICA8P3BocCBlbmRpZjsgZW5kaWY7ID8+Cgo8P3BocCBpZiAoaXNzZXQoJF9HRVRbJ3ZpZXcnXSkpOgogICAgJHZpZXdfZmlsZSA9IGJhc2VuYW1lKCRfR0VUWyd2aWV3J10pOwogICAgJHZpZXdfZmlsZV9wYXRoID0gcmVhbHBhdGgoJGRpciAuICcvJyAuICR2aWV3X2ZpbGUpOwogICAgaWYgKCR2aWV3X2ZpbGVfcGF0aCAmJiBmaWxlX2V4aXN0cygkdmlld19maWxlX3BhdGgpICYmIGlzX3JlYWRhYmxlKCR2aWV3X2ZpbGVfcGF0aCkpOgogICAgICAgICRjb250ZW50ID0gZmlsZV9nZXRfY29udGVudHMoJHZpZXdfZmlsZV9wYXRoKTsKICAgICAgICA/PgogICAgICAgIDxoMj52aWV3ZmlsZTogPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCR2aWV3X2ZpbGUpOyA/PjwvaDI+CiAgICAgICAgPHByZT48P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJGNvbnRlbnQpOyA/PjwvcHJlPgogICAgPD9waHAgZW5kaWY7IGVuZGlmOyA/Pgo8L2JvZHk+CjwvaHRtbD4=
